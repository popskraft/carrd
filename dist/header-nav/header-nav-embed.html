<!--
  REQUIRED: This plugin requires theme files to be loaded in HEAD:
  - dist/theme-design-tokens.css (essential CSS variables)
  - dist/theme-ui.css (shared UI components)
  
  See main README for installation instructions.
-->
<style>
/* Header Nav v0.1.12 (2026-02-18) */.theme-header-nav{position:relative}.theme-header-nav.is-sticky-hider{transition:transform var(--theme-header-nav-duration,300ms)ease;will-change:transform}.theme-header-nav.is-sticky-hider.is-stuck{position:fixed;top:var(--theme-header-nav-sticky-top,0);left:var(--theme-header-nav-fixed-left,0);width:var(--theme-header-nav-fixed-width,100%);z-index:var(--theme-header-nav-sticky-z-index,1000)}.theme-header-nav.is-sticky-hider.is-hidden{transform:translateY(-100%)}.theme-header-nav-spacer{display:block;width:100%;height:0;pointer-events:none}.theme-header-nav-section{min-width:0}.theme-header-nav-cta{position:relative;z-index:1}.theme-header-nav-toggle{--theme-header-nav-bar-offset:calc(var(--theme-header-nav-bar-gap,5px)+ var(--theme-header-nav-bar-height,2px));position:absolute;top:var(--theme-header-nav-toggle-top,0.75rem);right:var(--theme-header-nav-toggle-right,0.75rem);width:var(--theme-header-nav-toggle-size,2.5rem);height:var(--theme-header-nav-toggle-size,2.5rem);display:none;align-items:center;justify-content:center;flex-direction:column;gap:var(--theme-header-nav-bar-gap,5px);padding:0;border:none;border-radius:var(--theme-header-nav-toggle-radius,0.5rem);background:var(--theme-header-nav-toggle-bg,transparent);color:var(--theme-header-nav-bar-color,var(--theme-color-primary,currentColor));cursor:pointer;z-index:50}.theme-header-nav-toggle:focus-visible{outline:var(--theme-header-nav-toggle-outline,2px solid currentColor);outline-offset:var(--theme-header-nav-toggle-outline-offset,2px)}.theme-header-nav-bar{width:var(--theme-header-nav-bar-width,22px);height:var(--theme-header-nav-bar-height,2px);background:var(--theme-header-nav-bar-color,var(--theme-color-primary,currentColor));border-radius:var(--theme-header-nav-bar-radius,999px);transition:none;transform-origin:center}.theme-header-nav.is-mobile .theme-header-nav-toggle{display:inline-flex}.theme-header-nav.is-mobile .theme-header-nav-section-extra{display:none}.theme-header-nav.is-mobile .theme-header-nav-section-brand{display:block}.theme-header-nav.is-mobile .theme-header-nav-section-cta{padding-right:calc(var(--theme-header-nav-toggle-size,2.5rem)+ var(--theme-header-nav-toggle-right,0.75rem)+ 0.5rem)}.theme-header-nav.is-mobile .theme-header-nav-section-nav{display:block;width:100%;overflow:hidden}.theme-header-nav.is-mobile .theme-header-nav-menu{max-height:0;opacity:0;transform:none;overflow:hidden;padding:0;margin:0;pointer-events:none;transition:none;will-change:auto}.theme-header-nav.is-mobile.is-nav-open .theme-header-nav-menu{max-height:var(--theme-header-nav-open-height,var(--theme-header-nav-max-height,60vh));height:auto;opacity:1;transform:none;pointer-events:auto;overflow:auto;padding:2rem 0}.theme-header-nav.is-mobile.is-nav-open{overflow:visible;height:auto;max-height:none}.theme-header-nav.is-nav-open .theme-header-nav-bar:nth-child(1),.theme-header-nav.is-nav-open .theme-header-nav-bar:nth-child(3){opacity:0;transform:scaleX(0.2)}.theme-header-nav.is-nav-open .theme-header-nav-bar:nth-child(2){opacity:1;transform:none}@media(prefers-reduced-motion:reduce){.theme-header-nav-bar,.theme-header-nav.is-mobile .theme-header-nav-menu{transition:none}}
</style>
<script>
/* Header Nav v0.1.12 (2026-02-18) */(function(){'use strict';const D={headerId:'site-header',navId:'site-header-nav',navSelector:'.links-component',ctaId:'site-header-cta',mobileStickyAnchorId:'site-header-topnav',mobileStickyOffset:0,mobileStickyTop:-80,animationDuration:50,navMaxHeight:'80vh',breakpoint:736,closeOnLinkClick:true,sticky:true,hideOnScrollDown:false,stickyTop:0};const O=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.headerNav)||{};const G={...D,...O};if(typeof G.sticky!=='boolean')G.sticky=D.sticky;const SD=4;const STICKY_TRIGGER_BUFFER_MOBILE=8;const K={r:'theme-header-nav',tg:'theme-header-nav-toggle',b:'theme-header-nav-bar',m:'theme-header-nav-menu',c:'theme-header-nav-cta',s:'theme-header-nav-section',sb:'theme-header-nav-section-brand',sn:'theme-header-nav-section-nav',sc:'theme-header-nav-section-cta',se:'theme-header-nav-section-extra',o:'is-nav-open',mb:'is-mobile',sk:'is-sticky-hider',st:'is-stuck',h:'is-hidden',sp:'theme-header-nav-spacer'};const U={d:'--theme-header-nav-duration',nm:'--theme-header-nav-max-height',oh:'--theme-header-nav-open-height',st:'--theme-header-nav-sticky-top',fl:'--theme-header-nav-fixed-left',fw:'--theme-header-nav-fixed-width'};function mkBtn(){const button=document.createElement('button');button.type='button';button.className=K.tg;button.setAttribute('aria-label','Toggle navigation');button.setAttribute('aria-expanded','false');for(let i=0;i<3;i+=1){const bar=document.createElement('span');bar.className=K.b;button.appendChild(bar);}return button;}function pickNav(header){const isValidNav=(element)=>Boolean(element&&element!==header&&header.contains(element));const configuredNav=G.navId?document.getElementById(G.navId):null;if(isValidNav(configuredNav))return configuredNav;const configuredSelector=typeof G.navSelector==='string'?G.navSelector.trim():'';if(configuredSelector){const navBySelector=header.querySelector(configuredSelector);if(isValidNav(navBySelector))return navBySelector;}const fallbackNav=header.querySelector('.links-component');if(isValidNav(fallbackNav))return fallbackNav;return null;}function pickCta(header){const ctaId=typeof G.ctaId==='string'?G.ctaId.trim():'';if(ctaId){const ctaById=document.getElementById(ctaId);if(ctaById&&header.contains(ctaById))return ctaById;}return header.querySelector('.buttons-component');}function ensureId(element,preferredBaseId,forbiddenId){const hasValidCurrentId=element.id&&element.id!==forbiddenId;if(hasValidCurrentId)return element.id;const baseId=preferredBaseId||'header-nav-element';let candidateId=baseId;let suffix=1;let existing=document.getElementById(candidateId);while(existing&&existing!==element){candidateId=baseId+'-'+suffix;suffix+=1;existing=document.getElementById(candidateId);}element.id=candidateId;return candidateId;}function pickSection(target,secWrap){let current=target;while(current&&current.parentElement&&current.parentElement!==secWrap){current=current.parentElement;}if(current&&current.parentElement===secWrap){return current;}return null;}function init(){const header=document.getElementById(G.headerId);const nav=header?pickNav(header):null;if(!header||!nav)return;if(header.dataset.headerNavInitialized==='true')return;header.dataset.headerNavInitialized='true';header.classList.remove('theme-scroll-header','is-scroll-visible');header.classList.add(K.r);const dur=typeof G.animationDuration==='number'?G.animationDuration:D.animationDuration;const maxH=typeof G.navMaxHeight==='string'?G.navMaxHeight:D.navMaxHeight;header.style.setProperty(U.d,dur+'ms');header.style.setProperty(U.nm,maxH);const mId=typeof G.mobileStickyAnchorId==='string'?G.mobileStickyAnchorId.trim():'';const mAnchor=mId?document.getElementById(mId):null;let topV=G.stickyTop;let topT=G.stickyTop;const getY=()=>window.scrollY||window.pageYOffset||0;const isMobile=()=>header.classList.contains(K.mb);let prevY=getY();let anchorY=0;let stuckPrev=false;const toggle=mkBtn();const navId=ensureId(nav,G.headerId+'-nav',G.headerId);toggle.setAttribute('aria-controls',navId);header.appendChild(toggle);nav.classList.add(K.m);const secWrap=header.querySelector('.wrapper > .inner');if(secWrap){Array.from(secWrap.children).forEach((section,index)=>{section.classList.add(K.s);if(index===0){section.classList.add(K.sb);}else{section.classList.add(K.se);}});const navSec=pickSection(nav,secWrap);if(navSec){navSec.classList.add(K.sn);navSec.classList.remove(K.se,K.sb);}const cta=pickCta(header);if(cta){cta.classList.add(K.c);const ctaSec=pickSection(cta,secWrap);if(ctaSec){ctaSec.classList.add(K.sc);ctaSec.classList.remove(K.se,K.sb);}}}nav.setAttribute('aria-hidden','true');const spacer=document.createElement('div');spacer.className=K.sp;if(!header.parentNode)return;header.parentNode.insertBefore(spacer,header);if(G.sticky){header.classList.add(K.sk);}const clearLegacy=()=>{header.classList.remove('theme-scroll-header','is-scroll-visible');};const flowH=()=>{const headerStyles=window.getComputedStyle(header);const marginTop=parseFloat(headerStyles.marginTop)||0;const marginBottom=parseFloat(headerStyles.marginBottom)||0;return header.getBoundingClientRect().height+marginTop+marginBottom;};const mobileTrigTop=()=>{const extraOffset=typeof G.mobileStickyOffset==='number'?G.mobileStickyOffset:0;if(!mAnchor)return G.stickyTop+extraOffset;const anchorRect=mAnchor.getBoundingClientRect();return G.stickyTop+extraOffset+Math.max(0,anchorRect.height);};const readCssStickyTop=()=>{const inlineValue=header.style.getPropertyValue(U.st);const computedValue=window.getComputedStyle(header).getPropertyValue(U.st);const rawValue=(inlineValue||computedValue||'').trim();const parsed=parseFloat(rawValue);return Number.isFinite(parsed)?parsed:null;};const cssStickyTop=readCssStickyTop();const mobileTop=()=>{if(typeof G.mobileStickyTop==='number'&&Number.isFinite(G.mobileStickyTop)){return G.mobileStickyTop;}if(cssStickyTop!==null){return cssStickyTop;}return mobileTrigTop();};const applyTop=()=>{header.style.setProperty(U.st,topV+'px');};const syncMenuH=()=>{if(!isMobile()){header.style.removeProperty(U.oh);return;}const menuHeight=nav.scrollHeight;if(menuHeight>0){header.style.setProperty(U.oh,menuHeight+'px');}};const updateAnchor=()=>{const y=getY();const anchorRect=header.classList.contains(K.st)?spacer.getBoundingClientRect():header.getBoundingClientRect();const anchorTop=anchorRect.top+y;const mobileTriggerOffset=isMobile()?anchorRect.height:0;anchorY=anchorTop+mobileTriggerOffset;};const syncFixed=()=>{const spacerRect=spacer.getBoundingClientRect();header.style.setProperty(U.fl,spacerRect.left+'px');header.style.setProperty(U.fw,spacerRect.width+'px');spacer.style.height=flowH()+'px';};const clearFixed=()=>{header.style.removeProperty(U.fl);header.style.removeProperty(U.fw);spacer.style.height='0px';};const setOpen=(isOpen)=>{if(isOpen){syncMenuH();}header.classList.toggle(K.o,isOpen);toggle.setAttribute('aria-expanded',isOpen?'true':'false');nav.setAttribute('aria-hidden',isOpen?'false':'true');if(isOpen){header.style.height='auto';header.style.maxHeight='none';}else{header.style.removeProperty('height');header.style.removeProperty('max-height');}if(isOpen){header.classList.remove(K.h);}if(header.classList.contains(K.st)){syncFixed();}};const updateSticky=()=>{if(!G.sticky)return;clearLegacy();const y=getY();const triggerBuffer=isMobile()?STICKY_TRIGGER_BUFFER_MOBILE:0;const isStuck=y+topT+triggerBuffer>=anchorY;const shouldCloseOnStick=isStuck&&!stuckPrev&&isMobile()&&header.classList.contains(K.o);if(shouldCloseOnStick){setOpen(false);}if(isStuck&&!stuckPrev){syncFixed();}header.classList.toggle(K.st,isStuck);if(!isStuck&&stuckPrev){clearFixed();updateAnchor();}if(!isStuck){header.classList.remove(K.h);prevY=y;stuckPrev=false;return;}if(header.classList.contains(K.o)){header.classList.remove(K.h);prevY=y;stuckPrev=true;return;}if(G.hideOnScrollDown){const isScrollingDown=y>prevY+SD;const isScrollingUp=y<prevY-SD;if(isScrollingDown&&y>anchorY){header.classList.add(K.h);}else if(isScrollingUp||y<=topT){header.classList.remove(K.h);}}else{header.classList.remove(K.h);}prevY=y;stuckPrev=true;};const updateViewport=()=>{clearLegacy();const mobile=window.innerWidth<=G.breakpoint;header.classList.toggle(K.mb,mobile);topT=mobile?mobileTrigTop():G.stickyTop;topV=mobile?mobileTop():G.stickyTop;applyTop();syncMenuH();if(!mobile){setOpen(false);}if(!G.sticky){header.classList.remove(K.st,K.h);clearFixed();}if(header.classList.contains(K.st)){syncFixed();}else{updateAnchor();}};toggle.addEventListener('click',()=>{if(!isMobile())return;const isOpen=header.classList.contains(K.o);setOpen(!isOpen);});if(G.closeOnLinkClick){nav.addEventListener('click',(event)=>{const link=event.target.closest('a');if(!link)return;if(!isMobile())return;setOpen(false);});}window.addEventListener('resize',updateViewport);window.addEventListener('scroll',updateSticky,{passive:true});window.addEventListener('load',syncMenuH);if(typeof ResizeObserver!=='undefined'){const resizeObserver=new ResizeObserver(()=>{if(header.classList.contains(K.st)){syncFixed();}else{updateAnchor();}updateViewport();});resizeObserver.observe(header);if(mAnchor){resizeObserver.observe(mAnchor);}}applyTop();updateViewport();updateAnchor();updateSticky();}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();
</script>
