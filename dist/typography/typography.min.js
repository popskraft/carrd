/* Typography v0.1.10 (2026-02-12) */(function(){'use strict';const DEFAULTS={containerSelector:'.txt',paragraphSelector:'span.p',headingClasses:{h1:'theme-typography-h1',h2:'theme-typography-h2',h3:'theme-typography-h3',h4:'theme-typography-h4'},listClasses:{ul:'theme-typography-ul',ol:'theme-typography-ol',li:'theme-typography-li'},hrClass:'theme-typography-hr'};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.typography)||{};const CONFIG={...DEFAULTS,...externalOptions};function parseContent(html){let text=html.replace(/<br\s*\/?>/gi,'\n').trim();if(/^-{3,}$/.test(text)){return`<hr class="${CONFIG.hrClass}">`;}const headingMatch=text.match(/^(#{1,4})\s+(.+)$/);if(headingMatch){const level=headingMatch[1].length;const content=headingMatch[2].trim();const tag=`h${level}`;const className=CONFIG.headingClasses[tag]||'';return`<${tag} class="${className}">${content}</${tag}>`;}const lines=text.split('\n').map(l=>l.trim()).filter(l=>l);if(lines.length>0&&lines.every(l=>/^-\s+/.test(l))){const items=lines.map(l=>{const content=l.replace(/^-\s+/,'');return`<li class="${CONFIG.listClasses.li}">${content}</li>`;});return`<ul class="${CONFIG.listClasses.ul}">${items.join('')}</ul>`;}if(lines.length>0&&lines.every(l=>/^\d+\.\s+/.test(l))){const items=lines.map(l=>{const content=l.replace(/^\d+\.\s+/,'');return`<li class="${CONFIG.listClasses.li}">${content}</li>`;});return`<ol class="${CONFIG.listClasses.ol}">${items.join('')}</ol>`;}return null;}function processContainer(container){if(container.dataset.typographyInitialized==='true')return;container.dataset.typographyInitialized='true';const spans=container.querySelectorAll(CONFIG.paragraphSelector);if(!spans.length)return;const inner=container.querySelector('.inner')||container;spans.forEach(span=>{const html=span.innerHTML;const converted=parseContent(html);if(converted!==null){const temp=document.createElement('div');temp.innerHTML=converted;while(temp.firstChild){span.parentNode.insertBefore(temp.firstChild,span);}span.remove();}});}function init(){const containers=document.querySelectorAll(CONFIG.containerSelector);containers.forEach(processContainer);}window.CarrdTypography={init,process:processContainer,parseContent};if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();