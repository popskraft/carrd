/* Custom Theme Koriphey Online Plugins v0.1.12 (2026-02-20) */(function(){'use strict';const DEFAULTS={animationDuration:750,observerTimeout:5000,scrollPulseInterval:60,scrollPulseCount:10,rafPulseCount:4};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.noLoadwaiting)||{};const CONFIG={};for(const key in DEFAULTS){CONFIG[key]=Object.prototype.hasOwnProperty.call(externalOptions,key)?externalOptions[key]:DEFAULTS[key];}let initialized=false;let cachedBody=null;function getBody(){if(cachedBody&&cachedBody.isConnected)return cachedBody;cachedBody=document.body;return cachedBody;}function markReadyNow(){const body=getBody();if(!body)return;body.classList.remove('is-loading','with-loader');if(!body.classList.contains('is-ready')){body.classList.add('is-ready');body.classList.add('is-playing');setTimeout(function(){body.classList.remove('is-playing');},CONFIG.animationDuration);}}function hideLoaderIfPresent(){const loader=document.getElementById('loader');if(!loader)return false;loader.style.cssText='display:none !important; visibility:hidden !important; opacity:0 !important; pointer-events:none !important;';return true;}function kickScrollHandlers(){let pulses=0;const timer=setInterval(function(){if(++pulses>=CONFIG.scrollPulseCount){clearInterval(timer);return;}dispatchLayoutEvents();},CONFIG.scrollPulseInterval);let rafPulses=0;(function rafTick(){dispatchLayoutEvents();if(++rafPulses<CONFIG.rafPulseCount)requestAnimationFrame(rafTick);})();}function dispatchLayoutEvents(){try{window.dispatchEvent(new Event('resize'));window.dispatchEvent(new Event('scroll'));}catch(e){}}function setupObservers(){const body=getBody();if(!body)return;const classObserver=new MutationObserver(function(){if(body.classList.contains('with-loader')){body.classList.remove('with-loader');}});const childObserver=new MutationObserver(function(){if(hideLoaderIfPresent()){childObserver.disconnect();}});classObserver.observe(body,{attributes:true,attributeFilter:['class'],});childObserver.observe(body,{childList:true});setTimeout(function(){classObserver.disconnect();childObserver.disconnect();},CONFIG.observerTimeout);}function init(){if(initialized)return;initialized=true;try{markReadyNow();hideLoaderIfPresent();setupObservers();kickScrollHandlers();}catch(e){console.warn('early-animate-override failed:',e);}}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init,{once:true});}else{init();}})();(function(){'use strict';const DEFAULTS={enabled:true,cardSelector:'.cards',defaultCardBg:'var(--theme-card-bg-default)'};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.cards)||{};const legacyColumnsOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.columns)||{};const legacyCardsOptions=Object.fromEntries(Object.entries({enabled:legacyColumnsOptions.cards&&typeof legacyColumnsOptions.cards.enabled!=='undefined'?legacyColumnsOptions.cards.enabled:undefined,cardSelector:legacyColumnsOptions.cardSelector,defaultCardBg:legacyColumnsOptions.defaultCardBg}).filter(([,v])=>v!==undefined));const CONFIG={...DEFAULTS,...legacyCardsOptions,...externalOptions};const SELECTORS={cardItem:'theme-card-item'};const parsePadding=val=>{if(!val)return null;return val.split(' ').map(v=>!isNaN(v)?v+'rem':v).join(' ');};function init(){if(CONFIG.enabled===false)return;const cardContainers=document.querySelectorAll(CONFIG.cardSelector);cardContainers.forEach(container=>{if(container.dataset.cardsInitialized==='true')return;container.dataset.cardsInitialized='true';const style=window.getComputedStyle(container);const backgroundColor=style.backgroundColor;const borderRadius=style.borderRadius;const borderTopWidth=style.borderTopWidth;const borderTopStyle=style.borderTopStyle;const borderTopColor=style.borderTopColor;const boxShadow=style.boxShadow;const backgroundImage=style.backgroundImage;const backgroundPosition=style.backgroundPosition;const backgroundRepeat=style.backgroundRepeat;const backgroundSize=style.backgroundSize;const dataPadding=parsePadding(container.dataset.padding);const dataPaddingMobile=parsePadding(container.dataset.paddingMobile);const dataColor=container.dataset.color;container.style.setProperty('border','none','important');container.style.setProperty('box-shadow','none','important');if(!dataColor){container.style.setProperty('background-color','transparent','important');container.style.setProperty('background','none','important');}const inner=container.querySelector('.inner');if(!inner)return;const columns=Array.from(inner.children);columns.forEach((column,index)=>{if(column.querySelector('.theme-card-item, .card-item'))return;const cardItem=document.createElement('div');cardItem.classList.add(SELECTORS.cardItem);const specificColor=container.getAttribute(`data-color-${index + 1}`);const specificBorderColor=container.getAttribute(`data-border-color-${index + 1}`);if(specificColor){cardItem.style.backgroundColor=specificColor;}else if(dataColor){cardItem.style.backgroundColor=dataColor;}else if(backgroundColor&&backgroundColor!=='rgba(0, 0, 0, 0)'&&backgroundColor!=='transparent'){cardItem.style.backgroundColor=backgroundColor;}else{cardItem.style.backgroundColor=CONFIG.defaultCardBg;}if(borderRadius&&borderRadius!=='0px'){cardItem.style.setProperty('--theme-card-border-radius',borderRadius);}if(borderTopWidth&&borderTopWidth!=='0px'&&borderTopStyle!=='none'){cardItem.style.borderWidth=borderTopWidth;cardItem.style.borderStyle=borderTopStyle;cardItem.style.borderColor=specificBorderColor||borderTopColor;}if(boxShadow&&boxShadow!=='none'){cardItem.style.boxShadow=boxShadow;}if(!dataColor&&!specificColor&&backgroundImage&&backgroundImage!=='none'){cardItem.style.backgroundImage=backgroundImage;cardItem.style.backgroundPosition=backgroundPosition;cardItem.style.backgroundRepeat=backgroundRepeat;cardItem.style.backgroundSize=backgroundSize;}if(dataPadding){cardItem.style.setProperty('--theme-card-padding',dataPadding);}if(dataPaddingMobile){cardItem.style.setProperty('--theme-card-padding-mobile',dataPaddingMobile);}while(column.firstChild){cardItem.appendChild(column.firstChild);}column.appendChild(cardItem);});});}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();(function(){'use strict';const DEFAULTS={bannerId:'cookie-baner',cookieName:'cookies_accepted',cookieDays:7,fadeOutDuration:300,fadeInDuration:400,showDelay:1000,position:'bottom-left'};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.cookieBanner)||{};const CONFIG={};for(const key in DEFAULTS){if(Object.prototype.hasOwnProperty.call(DEFAULTS,key)){CONFIG[key]=Object.prototype.hasOwnProperty.call(externalOptions,key)?externalOptions[key]:DEFAULTS[key];}}function getCookie(name){const match=document.cookie.match(new RegExp('(^| )'+name+'=([^;]+)'));return match?match[2]:null;}function setCookie(name,value,days){let expires='';if(days){const date=new Date();date.setTime(date.getTime()+days*24*60*60*1000);expires='; expires='+date.toUTCString();}document.cookie=name+'='+value+expires+'; path=/; SameSite=Lax';}function getPositionStyles(position){const base={position:'fixed',zIndex:'9999',margin:'0',maxWidth:'calc(100vw - 2rem)'};switch(position){case'bottom-right':base.bottom='1rem';base.right='1rem';base.left='auto';base.top='auto';break;case'bottom-center':base.bottom='1rem';base.left='50%';base.right='auto';base.top='auto';base.transform='translateX(-50%)';break;case'top-left':base.top='1rem';base.left='1rem';base.bottom='auto';base.right='auto';break;case'top-right':base.top='1rem';base.right='1rem';base.bottom='auto';base.left='auto';break;case'top-center':base.top='1rem';base.left='50%';base.right='auto';base.bottom='auto';base.transform='translateX(-50%)';break;case'bottom-left':default:base.bottom='1rem';base.left='1rem';base.right='auto';base.top='auto';break;}return base;}function applyStyles(element,styles){for(const prop in styles){if(Object.prototype.hasOwnProperty.call(styles,prop)){element.style[prop]=styles[prop];}}}function acceptCookies(banner){setCookie(CONFIG.cookieName,'1',CONFIG.cookieDays);banner.style.transition='opacity '+CONFIG.fadeOutDuration+'ms ease';banner.style.opacity='0';setTimeout(function(){banner.style.display='none';},CONFIG.fadeOutDuration);}function init(){if(getCookie(CONFIG.cookieName)==='1'){const existingBanner=document.getElementById(CONFIG.bannerId);if(existingBanner){existingBanner.style.display='none';}return;}const banner=document.getElementById(CONFIG.bannerId);if(!banner){return;}if(banner.dataset.cookieBannerInitialized==='true')return;banner.dataset.cookieBannerInitialized='true';const positionStyles=getPositionStyles(CONFIG.position);applyStyles(banner,positionStyles);const acceptBtn=banner.querySelector('a[role="button"]')||banner.querySelector('.icons-component a')||banner.querySelector('a');if(acceptBtn){acceptBtn.addEventListener('click',function(e){e.preventDefault();acceptCookies(banner);});}banner.style.display='';banner.style.visibility='visible';banner.style.opacity='0';banner.style.transition='opacity '+CONFIG.fadeInDuration+'ms ease';setTimeout(function(){banner.style.opacity='1';},CONFIG.showDelay);}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();(function(){'use strict';const DEFAULTS={containerSelector:'.FAQContainer',dividerSelector:'hr.divider-component',headerTags:['H1','H2','H3'],allowMultipleOpen:false,defaultOpen:false};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.faq)||{};const CONFIG={...DEFAULTS,...externalOptions};const HEADER_TAGS=new Set(CONFIG.headerTags);const CLASSES={question:'theme-faq-question',answer:'theme-faq-answer',open:'is-open',closed:'is-closed'};let answerIdCounter=0;let openAnswers=new Set();let answerResizeObserver=null;const requestFrame=window.requestAnimationFrame||(cb=>setTimeout(cb,16));let resizeHandle=null;const scheduleOpenAnswerSync=()=>{if(resizeHandle!==null)return;resizeHandle=requestFrame(()=>{openAnswers.forEach(answer=>adjustHeight(answer));resizeHandle=null;});};function init(){const containers=document.querySelectorAll(CONFIG.containerSelector);if(!containers.length)return;openAnswers=new Set();answerResizeObserver=typeof ResizeObserver!=='undefined'?new ResizeObserver(entries=>{entries.forEach(entry=>{if(openAnswers.has(entry.target)){adjustHeight(entry.target);}});}):null;let firstQuestion=true;containers.forEach(container=>{if(container.dataset.faqInitialized==='true')return;container.dataset.faqInitialized='true';const dividers=Array.from(container.querySelectorAll(CONFIG.dividerSelector)).filter(divider=>divider.closest(CONFIG.containerSelector)===container);if(!dividers.length)return;dividers.forEach(startDivider=>{const endDivider=findNextDivider(startDivider);const header=findHeaderBetween(startDivider,endDivider);if(!header||header.dataset.faqBound==='true'){return;}const answerWrapper=header.nextElementSibling&&header.nextElementSibling.classList.contains(CLASSES.answer)?header.nextElementSibling:wrapAnswerContent(header,endDivider);if(!answerWrapper){return;}const shouldOpenByDefault=CONFIG.defaultOpen&&firstQuestion;prepareToggle(header,answerWrapper,shouldOpenByDefault);firstQuestion=false;});});window.addEventListener('resize',scheduleOpenAnswerSync);window.addEventListener('orientationchange',scheduleOpenAnswerSync);}function findNextDivider(divider){let node=divider.nextElementSibling;while(node){if(isDivider(node)){return node;}node=node.nextElementSibling;}return null;}function findHeaderBetween(startDivider,endDivider){let node=startDivider.nextElementSibling;let firstParagraph=null;while(node&&node!==endDivider){if(isHeader(node)){return node;}if(!firstParagraph&&node.nodeType===1&&node.tagName==='P'){firstParagraph=node;}node=node.nextElementSibling;}if(!endDivider){while(node){if(isHeader(node)){return node;}if(!firstParagraph&&node.nodeType===1&&node.tagName==='P'){firstParagraph=node;}node=node.nextElementSibling;}}return firstParagraph;}function wrapAnswerContent(header,endDivider){let node=header.nextSibling;const wrapper=document.createElement('div');wrapper.className=CLASSES.answer;let hasContent=false;while(node&&node!==endDivider){const next=node.nextSibling;wrapper.appendChild(node);hasContent=true;node=next;}if(!hasContent){return null;}if(endDivider&&endDivider.parentNode){header.parentNode.insertBefore(wrapper,endDivider);}else{header.parentNode.appendChild(wrapper);}return wrapper;}function prepareToggle(header,answer,openByDefault=false){header.classList.add(CLASSES.question);header.dataset.faqBound='true';if(!header.hasAttribute('tabindex')){header.setAttribute('tabindex','0');}header.setAttribute('role','button');if(!answer.id){answerIdCounter+=1;answer.id=`faq-answer-${answerIdCounter}`;}header.setAttribute('aria-controls',answer.id);if(answerResizeObserver){answerResizeObserver.observe(answer);}if(openByDefault){header.classList.add(CLASSES.open);header.classList.remove(CLASSES.closed);answer.classList.add(CLASSES.open);answer.classList.remove(CLASSES.closed);header.setAttribute('aria-expanded','true');answer.setAttribute('aria-hidden','false');openAnswers.add(answer);requestFrame(()=>adjustHeight(answer));}else{header.classList.add(CLASSES.closed);header.classList.remove(CLASSES.open);answer.classList.add(CLASSES.closed);answer.classList.remove(CLASSES.open);header.setAttribute('aria-expanded','false');answer.setAttribute('aria-hidden','true');}const toggle=()=>toggleAnswer(header,answer);header.addEventListener('click',toggle);header.addEventListener('keydown',event=>{if(event.key==='Enter'||event.key===' '){event.preventDefault();toggle();}});}function toggleAnswer(header,answer){const willOpen=!header.classList.contains(CLASSES.open);if(willOpen&&!CONFIG.allowMultipleOpen){openAnswers.forEach(openAnswer=>{if(openAnswer!==answer){const openHeader=document.querySelector(`[aria-controls="${openAnswer.id}"]`);if(openHeader){openHeader.classList.remove(CLASSES.open);openHeader.classList.add(CLASSES.closed);openHeader.setAttribute('aria-expanded','false');}openAnswer.classList.remove(CLASSES.open);openAnswer.classList.add(CLASSES.closed);openAnswer.setAttribute('aria-hidden','true');openAnswer.style.maxHeight='0px';openAnswers.delete(openAnswer);}});}header.classList.toggle(CLASSES.open,willOpen);header.classList.toggle(CLASSES.closed,!willOpen);answer.classList.toggle(CLASSES.open,willOpen);answer.classList.toggle(CLASSES.closed,!willOpen);header.setAttribute('aria-expanded',String(willOpen));answer.setAttribute('aria-hidden',String(!willOpen));if(willOpen){openAnswers.add(answer);adjustHeight(answer);scheduleOpenAnswerSync();}else{openAnswers.delete(answer);answer.style.maxHeight='0px';}}function adjustHeight(answer){answer.style.maxHeight=`${answer.scrollHeight}px`;}function isHeader(node){return node&&node.nodeType===1&&HEADER_TAGS.has(node.tagName);}function isDivider(node){return(node&&node.nodeType===1&&node.tagName==='HR'&&node.classList.contains('divider-component'));}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();(function(){'use strict';const DEFAULTS={enabled:true,gridClasses:['grid-2','grid-3','grid-4','grid-5','grid-6'],widthClasses:{'w-20':'20%','w-25':'25%','w-30':'33%','w-40':'40%','w-50':'50%','w-60':'60%','w-70':'67%','w-75':'75%','w-80':'80%'}};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.gridCluster)||{};const legacyColumnsOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.columns)||{};const legacyGridOptions=Object.fromEntries(Object.entries({enabled:legacyColumnsOptions.grid&&typeof legacyColumnsOptions.grid.enabled!=='undefined'?legacyColumnsOptions.grid.enabled:undefined,gridClasses:legacyColumnsOptions.gridClasses,widthClasses:legacyColumnsOptions.widthClasses}).filter(([,v])=>v!==undefined));const CONFIG={...DEFAULTS,...legacyGridOptions,...externalOptions};const SELECTORS={gridContainer:'theme-grid',desktopWidths:'theme-grid--desktop-widths',constrainWidth:'theme-grid-constrain',imageFrameInGrid:'.theme-grid .image-component > .frame'};const GRID_CLASSES=CONFIG.gridClasses;const WIDTH_CLASS_MAP=CONFIG.widthClasses;const GRID_SELECTOR=GRID_CLASSES.map(cls=>`.${cls}`).join(',');const WIDTH_CLASSES=Object.keys(WIDTH_CLASS_MAP);const isGridBlock=element=>element&&GRID_CLASSES.some(cls=>element.classList&&element.classList.contains(cls));const getGridSize=element=>{if(!element||!element.classList)return null;const sizeClass=GRID_CLASSES.find(cls=>element.classList.contains(cls));if(!sizeClass)return null;const numeric=parseInt(sizeClass.split('-')[1],10);return Number.isNaN(numeric)?null:numeric;};const widthValueForElement=element=>{if(!element||!element.classList)return null;const widthClass=WIDTH_CLASSES.find(cls=>element.classList.contains(cls));return widthClass?WIDTH_CLASS_MAP[widthClass]:null;};function wrapCluster(cluster,gridSize){if(!cluster.length||!cluster[0].parentNode)return;if(cluster[0].classList.contains('justify')){cluster.forEach(node=>node.classList.add('justify'));}const container=document.createElement('div');const classList=[SELECTORS.gridContainer];if(gridSize&&gridSize>=2){classList.push(`grid-${gridSize}`);}if(cluster.some(el=>el.classList.contains('grid-sm-2'))){classList.push('grid-sm-2');}container.className=classList.join(' ');cluster[0].parentNode.insertBefore(container,cluster[0]);cluster.forEach(node=>container.appendChild(node));applyDesktopWidths(container,cluster,gridSize);}function applyDesktopWidths(container,cluster,gridSize){if(!gridSize||gridSize<2||cluster.length<gridSize)return;const initialRow=cluster.slice(0,gridSize);const columnWidths=initialRow.map(widthValueForElement);if(!columnWidths.some(Boolean))return;const templateParts=columnWidths.map(value=>value||'minmax(0, 1fr)');container.classList.add(SELECTORS.desktopWidths);container.style.setProperty('--theme-grid-desktop-template',templateParts.join(' '));}function constrainImageFrames(){document.querySelectorAll(SELECTORS.imageFrameInGrid).forEach(frame=>{const computedWidth=window.getComputedStyle(frame).width;const widthInRem=parseFloat(computedWidth)/parseFloat(getComputedStyle(document.documentElement).fontSize);if(widthInRem>20){frame.classList.add(SELECTORS.constrainWidth);}});}function init(){if(CONFIG.enabled===false)return;const collected=new Set();const gridBlocks=document.querySelectorAll(GRID_SELECTOR);gridBlocks.forEach(block=>{if(collected.has(block))return;if(block.dataset.gridInitialized==='true')return;if(block.classList.contains(SELECTORS.gridContainer))return;const cluster=[block];const baseSize=getGridSize(block);let sibling=block.nextElementSibling;while(isGridBlock(sibling)){const siblingSize=getGridSize(sibling);if(baseSize!==null&&siblingSize!==baseSize){break;}cluster.push(sibling);collected.add(sibling);sibling=sibling.nextElementSibling;}collected.add(block);cluster.forEach(node=>node.dataset.gridInitialized='true');wrapCluster(cluster,baseSize);});constrainImageFrames();}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();(function(){'use strict';const D={headerId:'site-header',navId:'site-header-nav',navSelector:'.links-component',ctaId:'site-header-cta',mobileStickyAnchorId:'site-header-topnav',mobileStickyOffset:0,mobileStickyTop:-80,animationDuration:50,navMaxHeight:'80vh',breakpoint:736,closeOnLinkClick:true,sticky:true,hideOnScrollDown:false,stickyTop:0};const O=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.headerNav)||{};const G={...D,...O};if(typeof G.sticky!=='boolean')G.sticky=D.sticky;const SD=4;const STICKY_TRIGGER_BUFFER_MOBILE=8;const K={r:'theme-header-nav',tg:'theme-header-nav-toggle',b:'theme-header-nav-bar',m:'theme-header-nav-menu',c:'theme-header-nav-cta',s:'theme-header-nav-section',sb:'theme-header-nav-section-brand',sn:'theme-header-nav-section-nav',sc:'theme-header-nav-section-cta',se:'theme-header-nav-section-extra',o:'is-nav-open',mb:'is-mobile',sk:'is-sticky-hider',st:'is-stuck',h:'is-hidden',sp:'theme-header-nav-spacer'};const U={d:'--theme-header-nav-duration',nm:'--theme-header-nav-max-height',oh:'--theme-header-nav-open-height',st:'--theme-header-nav-sticky-top',fl:'--theme-header-nav-fixed-left',fw:'--theme-header-nav-fixed-width'};function mkBtn(){const button=document.createElement('button');button.type='button';button.className=K.tg;button.setAttribute('aria-label','Toggle navigation');button.setAttribute('aria-expanded','false');for(let i=0;i<3;i+=1){const bar=document.createElement('span');bar.className=K.b;button.appendChild(bar);}return button;}function pickNav(header){const isValidNav=(element)=>Boolean(element&&element!==header&&header.contains(element));const configuredNav=G.navId?document.getElementById(G.navId):null;if(isValidNav(configuredNav))return configuredNav;const configuredSelector=typeof G.navSelector==='string'?G.navSelector.trim():'';if(configuredSelector){const navBySelector=header.querySelector(configuredSelector);if(isValidNav(navBySelector))return navBySelector;}const fallbackNav=header.querySelector('.links-component');if(isValidNav(fallbackNav))return fallbackNav;return null;}function pickCta(header){const ctaId=typeof G.ctaId==='string'?G.ctaId.trim():'';if(ctaId){const ctaById=document.getElementById(ctaId);if(ctaById&&header.contains(ctaById))return ctaById;}return header.querySelector('.buttons-component');}function ensureId(element,preferredBaseId,forbiddenId){const hasValidCurrentId=element.id&&element.id!==forbiddenId;if(hasValidCurrentId)return element.id;const baseId=preferredBaseId||'header-nav-element';let candidateId=baseId;let suffix=1;let existing=document.getElementById(candidateId);while(existing&&existing!==element){candidateId=baseId+'-'+suffix;suffix+=1;existing=document.getElementById(candidateId);}element.id=candidateId;return candidateId;}function pickSection(target,secWrap){let current=target;while(current&&current.parentElement&&current.parentElement!==secWrap){current=current.parentElement;}if(current&&current.parentElement===secWrap){return current;}return null;}function init(){const header=document.getElementById(G.headerId);const nav=header?pickNav(header):null;if(!header||!nav)return;if(header.dataset.headerNavInitialized==='true')return;header.dataset.headerNavInitialized='true';header.classList.remove('theme-scroll-header','is-scroll-visible');header.classList.add(K.r);const dur=typeof G.animationDuration==='number'?G.animationDuration:D.animationDuration;const maxH=typeof G.navMaxHeight==='string'?G.navMaxHeight:D.navMaxHeight;header.style.setProperty(U.d,dur+'ms');header.style.setProperty(U.nm,maxH);const mId=typeof G.mobileStickyAnchorId==='string'?G.mobileStickyAnchorId.trim():'';const mAnchor=mId?document.getElementById(mId):null;let topV=G.stickyTop;let topT=G.stickyTop;const getY=()=>window.scrollY||window.pageYOffset||0;const isMobile=()=>header.classList.contains(K.mb);let prevY=getY();let anchorY=0;let stuckPrev=false;const toggle=mkBtn();const navId=ensureId(nav,G.headerId+'-nav',G.headerId);toggle.setAttribute('aria-controls',navId);header.appendChild(toggle);nav.classList.add(K.m);const secWrap=header.querySelector('.wrapper > .inner');if(secWrap){Array.from(secWrap.children).forEach((section,index)=>{section.classList.add(K.s);if(index===0){section.classList.add(K.sb);}else{section.classList.add(K.se);}});const navSec=pickSection(nav,secWrap);if(navSec){navSec.classList.add(K.sn);navSec.classList.remove(K.se,K.sb);}const cta=pickCta(header);if(cta){cta.classList.add(K.c);const ctaSec=pickSection(cta,secWrap);if(ctaSec){ctaSec.classList.add(K.sc);ctaSec.classList.remove(K.se,K.sb);}}}nav.setAttribute('aria-hidden','true');const spacer=document.createElement('div');spacer.className=K.sp;if(!header.parentNode)return;header.parentNode.insertBefore(spacer,header);if(G.sticky){header.classList.add(K.sk);}const clearLegacy=()=>{header.classList.remove('theme-scroll-header','is-scroll-visible');};const flowH=()=>{const headerStyles=window.getComputedStyle(header);const marginTop=parseFloat(headerStyles.marginTop)||0;const marginBottom=parseFloat(headerStyles.marginBottom)||0;return header.getBoundingClientRect().height+marginTop+marginBottom;};const mobileTrigTop=()=>{const extraOffset=typeof G.mobileStickyOffset==='number'?G.mobileStickyOffset:0;if(!mAnchor)return G.stickyTop+extraOffset;const anchorRect=mAnchor.getBoundingClientRect();return G.stickyTop+extraOffset+Math.max(0,anchorRect.height);};const readCssStickyTop=()=>{const inlineValue=header.style.getPropertyValue(U.st);const computedValue=window.getComputedStyle(header).getPropertyValue(U.st);const rawValue=(inlineValue||computedValue||'').trim();const parsed=parseFloat(rawValue);return Number.isFinite(parsed)?parsed:null;};const cssStickyTop=readCssStickyTop();const mobileTop=()=>{if(typeof G.mobileStickyTop==='number'&&Number.isFinite(G.mobileStickyTop)){return G.mobileStickyTop;}if(cssStickyTop!==null){return cssStickyTop;}return mobileTrigTop();};const applyTop=()=>{header.style.setProperty(U.st,topV+'px');};const syncMenuH=()=>{if(!isMobile()){header.style.removeProperty(U.oh);return;}const menuHeight=nav.scrollHeight;if(menuHeight>0){header.style.setProperty(U.oh,menuHeight+'px');}};const updateAnchor=()=>{const y=getY();const anchorRect=header.classList.contains(K.st)?spacer.getBoundingClientRect():header.getBoundingClientRect();const anchorTop=anchorRect.top+y;const mobileTriggerOffset=isMobile()?anchorRect.height:0;anchorY=anchorTop+mobileTriggerOffset;};const syncFixed=()=>{const spacerRect=spacer.getBoundingClientRect();header.style.setProperty(U.fl,spacerRect.left+'px');header.style.setProperty(U.fw,spacerRect.width+'px');spacer.style.height=flowH()+'px';};const clearFixed=()=>{header.style.removeProperty(U.fl);header.style.removeProperty(U.fw);spacer.style.height='0px';};const setOpen=(isOpen)=>{if(isOpen){syncMenuH();}header.classList.toggle(K.o,isOpen);toggle.setAttribute('aria-expanded',isOpen?'true':'false');nav.setAttribute('aria-hidden',isOpen?'false':'true');if(isOpen){header.style.height='auto';header.style.maxHeight='none';}else{header.style.removeProperty('height');header.style.removeProperty('max-height');}if(isOpen){header.classList.remove(K.h);}if(header.classList.contains(K.st)){syncFixed();}};const updateSticky=()=>{if(!G.sticky)return;clearLegacy();const y=getY();const triggerBuffer=isMobile()?STICKY_TRIGGER_BUFFER_MOBILE:0;const isStuck=y+topT+triggerBuffer>=anchorY;const shouldCloseOnStick=isStuck&&!stuckPrev&&isMobile()&&header.classList.contains(K.o);if(shouldCloseOnStick){setOpen(false);}if(isStuck&&!stuckPrev){syncFixed();}header.classList.toggle(K.st,isStuck);if(!isStuck&&stuckPrev){clearFixed();updateAnchor();}if(!isStuck){header.classList.remove(K.h);prevY=y;stuckPrev=false;return;}if(header.classList.contains(K.o)){header.classList.remove(K.h);prevY=y;stuckPrev=true;return;}if(G.hideOnScrollDown){const isScrollingDown=y>prevY+SD;const isScrollingUp=y<prevY-SD;if(isScrollingDown&&y>anchorY){header.classList.add(K.h);}else if(isScrollingUp||y<=topT){header.classList.remove(K.h);}}else{header.classList.remove(K.h);}prevY=y;stuckPrev=true;};const updateViewport=()=>{clearLegacy();const mobile=window.innerWidth<=G.breakpoint;header.classList.toggle(K.mb,mobile);topT=mobile?mobileTrigTop():G.stickyTop;topV=mobile?mobileTop():G.stickyTop;applyTop();syncMenuH();if(!mobile){setOpen(false);}if(!G.sticky){header.classList.remove(K.st,K.h);clearFixed();}if(header.classList.contains(K.st)){syncFixed();}else{updateAnchor();}};toggle.addEventListener('click',()=>{if(!isMobile())return;const isOpen=header.classList.contains(K.o);setOpen(!isOpen);});if(G.closeOnLinkClick){nav.addEventListener('click',(event)=>{const link=event.target.closest('a');if(!link)return;if(!isMobile())return;setOpen(false);});}window.addEventListener('resize',updateViewport);window.addEventListener('scroll',updateSticky,{passive:true});window.addEventListener('load',syncMenuH);if(typeof ResizeObserver!=='undefined'){const resizeObserver=new ResizeObserver(()=>{if(header.classList.contains(K.st)){syncFixed();}else{updateAnchor();}updateViewport();});resizeObserver.observe(header);if(mAnchor){resizeObserver.observe(mAnchor);}}applyTop();updateViewport();updateAnchor();updateSticky();}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();(function(){'use strict';const DEFAULTS={modalSelector:'.container-component.modal',closeOnOverlay:true,closeOnEscape:true,showCloseButton:true,lockBodyScroll:true,preventWhenCartOpen:false};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.modal)||{};const CONFIG={...DEFAULTS,...externalOptions};const SELECTORS={overlay:'theme-modal-overlay',close:'theme-modal-close',modalClose:'modal-close'};const ICONS={close:`<svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>`};let activeModal=null;let overlay=null;const modalWrappers=new Map();const cartOpenSelector='.theme-shopcart-panel.open, .theme-shopcart-overlay.open';const ModalAPI={open:function(modalId){if(CONFIG.preventWhenCartOpen&&document.querySelector(cartOpenSelector)){return;}const id=modalId.replace(/^#/,'');const modal=getOrInitModal(id);if(!modal){console.warn(`Modal: No modal found with id "${id}"`);return;}if(activeModal&&activeModal!==id){this.close();}this.lastFocus=document.activeElement;if(!overlay){createOverlay();}ensureOverlayPlacement(modal);if(overlay){overlay.classList.add('is-open');}modal.classList.add('is-open');modal.setAttribute('aria-hidden','false');requestAnimationFrame(()=>{requestAnimationFrame(()=>{modal.classList.add('is-visible');});});if(CONFIG.lockBodyScroll){document.body.classList.add('modal-open');}activeModal=id;const firstFocusable=modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(firstFocusable){setTimeout(()=>firstFocusable.focus(),50);}else{modal.setAttribute('tabindex','-1');modal.focus();}document.addEventListener('keydown',this.handleTabKey);},handleTabKey:function(e){if(e.key!=='Tab'||!activeModal)return;const modal=modalWrappers.get(activeModal);const focusables=modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(focusables.length===0){e.preventDefault();return;}const first=focusables[0];const last=focusables[focusables.length-1];if(e.shiftKey){if(document.activeElement===first){e.preventDefault();last.focus();}}else{if(document.activeElement===last){e.preventDefault();first.focus();}}},close:function(){if(!activeModal)return;const modal=modalWrappers.get(activeModal);document.removeEventListener('keydown',this.handleTabKey);if(overlay){overlay.classList.remove('is-open');}if(modal){modal.classList.remove('is-visible');modal.classList.remove('is-open');modal.setAttribute('aria-hidden','true');}if(CONFIG.lockBodyScroll){document.body.classList.remove('modal-open');}activeModal=null;if(this.lastFocus&&typeof this.lastFocus.focus==='function'){this.lastFocus.focus();this.lastFocus=null;}},toggle:function(modalId){const id=modalId.replace(/^#/,'');if(activeModal===id){this.close();}else{this.open(id);}},isOpen:function(modalId){if(modalId){return activeModal===modalId.replace(/^#/,'');}return activeModal!==null;}};window.CarrdModal=ModalAPI;function createOverlay(){overlay=document.createElement('div');overlay.className=SELECTORS.overlay;overlay.setAttribute('aria-hidden','true');if(CONFIG.closeOnOverlay){overlay.addEventListener('click',()=>ModalAPI.close());}document.body.appendChild(overlay);}function ensureOverlayPlacement(modal){if(!overlay||!modal||!modal.parentNode)return;const parent=modal.parentNode;if(overlay.parentNode!==parent||overlay.nextSibling!==modal){parent.insertBefore(overlay,modal);}}function setupModal(modal){const modalId=modal.id;if(!modalId){console.warn('Modal: Modal element must have an ID',modal);return null;}if(CONFIG.showCloseButton){if(!modal.querySelector(`.${SELECTORS.modalClose}`)){const closeBtn=document.createElement('button');closeBtn.className=`${SELECTORS.close} ${SELECTORS.modalClose}`;closeBtn.setAttribute('aria-label','Close modal');closeBtn.innerHTML=ICONS.close;closeBtn.addEventListener('click',(e)=>{e.stopPropagation();ModalAPI.close();});const inner=modal.querySelector('.inner');if(inner){inner.insertBefore(closeBtn,inner.firstChild);}else{modal.insertBefore(closeBtn,modal.firstChild);}}}modal.setAttribute('role','dialog');modal.setAttribute('aria-modal','true');modal.setAttribute('aria-hidden','true');modalWrappers.set(modalId,modal);modal.dataset.modalInitialized='true';return modal;}function bindTriggers(){const handler=(e)=>{const trigger=e.target.closest('a[href^="#"], button[data-modal]');if(!trigger)return;let modalId=null;if(trigger.hasAttribute('href')){const href=trigger.getAttribute('href');if(href&&href.startsWith('#')&&href.length>1){const targetId=href.substring(1);if(getOrInitModal(targetId)){modalId=targetId;}}}if(!modalId&&trigger.hasAttribute('data-modal')){modalId=trigger.getAttribute('data-modal').replace(/^#/,'');}if(modalId){e.preventDefault();ModalAPI.open(modalId);}};document.addEventListener('click',handler,true);}function bindHashChange(){const openFromHash=()=>{const hash=window.location.hash||'';if(hash.length<=1)return;const id=hash.substring(1);if(getOrInitModal(id)){ModalAPI.open(id);}};window.addEventListener('hashchange',openFromHash);openFromHash();}function bindKeyboard(){if(CONFIG.closeOnEscape){document.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&activeModal){ModalAPI.close();}});}}function init(){const modals=document.querySelectorAll(CONFIG.modalSelector);modals.forEach(modal=>{if(modal.dataset.modalInitialized==='true')return;setupModal(modal);});if(modals.length&&!overlay){createOverlay();}bindTriggers();bindKeyboard();bindHashChange();}function getOrInitModal(modalId){if(modalWrappers.has(modalId)){return modalWrappers.get(modalId);}const modal=document.getElementById(modalId);if(modal&&modal.matches&&modal.matches(CONFIG.modalSelector)){return setupModal(modal);}return null;}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();(function(){'use strict';const DEFAULTS={showDots:true,showArrows:true,loop:false,autoplay:false,autoplayInterval:5000,dragThreshold:50,snapThreshold:0.3,gap:16,hideOverflow:false,slidesPerView:1,peek:0.1,maxSlideWidth:400,equalHeight:true,breakpoints:{737:{slidesPerView:4},1280:{slidesPerView:5}}};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.slider)||{};const BASE_CONFIG={...DEFAULTS,...externalOptions,breakpoints:{...DEFAULTS.breakpoints,...(externalOptions.breakpoints||{})}};const INSTANCE_CONFIGS=externalOptions.instances||{};const SELECTORS={slideSelector:'.slider',wrapperClass:'theme-slider-wrapper',trackClass:'theme-slider-track',slideClass:'theme-slider-slide',dotsContainerClass:'theme-slider-dots',dotClass:'theme-slider-dot',navClass:'theme-slider-nav',navPrevClass:'theme-slider-nav--prev',navNextClass:'theme-slider-nav--next'};const ICONS={prev:`<svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"></polyline></svg>`,next:`<svg viewBox="0 0 24 24"><polyline points="9 6 15 12 9 18"></polyline></svg>`};const SLIDER_INSTANCES=[];class Slider{constructor(slides,config){this.slides=slides;this.config=config;this.currentIndex=0;this.isDragging=false;this.startX=0;this.currentX=0;this.translateX=0;this.autoplayTimer=null;this.slidesPerView=this.config.slidesPerView;this.eventHandlers=[];this.dotHandlers=[];this.resizeTimeout=null;this.init();}init(){this.createWrapper();this.createTrack();this.wrapSlides();if(this.config.showDots&&this.slides.length>1){this.createDots();}if(this.config.showArrows&&this.slides.length>1){this.createArrows();}this.bindEvents();this.updateSlidesPerView();this.updateSlider();if(this.config.autoplay&&this.slides.length>1){this.startAutoplay();}}createWrapper(){this.wrapper=document.createElement('div');this.wrapper.className=SELECTORS.wrapperClass;if(this.config.equalHeight){this.wrapper.classList.add('is-equal-height');}if(!this.config.hideOverflow){this.wrapper.classList.add('is-overflow-visible');}this.slides[0].parentNode.insertBefore(this.wrapper,this.slides[0]);}createTrack(){this.track=document.createElement('div');this.track.className=SELECTORS.trackClass;this.wrapper.appendChild(this.track);}wrapSlides(){this.slides.forEach((slide,index)=>{const slideWrapper=document.createElement('div');slideWrapper.className=SELECTORS.slideClass;slideWrapper.dataset.slideIndex=index;slideWrapper.appendChild(slide);this.track.appendChild(slideWrapper);});this.slideElements=Array.from(this.track.querySelectorAll(`.${SELECTORS.slideClass}`));}createDots(){this.dotsContainer=document.createElement('div');this.dotsContainer.className=SELECTORS.dotsContainerClass;this.wrapper.appendChild(this.dotsContainer);}updateDots(){if(!this.dotsContainer)return;this.clearDotListeners();this.dotsContainer.innerHTML='';const totalPages=this.getTotalPages();if(totalPages<=1){this.dotsContainer.style.display='none';return;}this.dotsContainer.style.display='flex';for(let i=0;i<totalPages;i++){const dot=document.createElement('button');dot.className=SELECTORS.dotClass;if(i===this.currentIndex){dot.classList.add('is-active');}dot.setAttribute('aria-label',`Go to slide ${i + 1}`);dot.dataset.index=i;const handler=()=>this.goToSlide(i);dot.addEventListener('click',handler);this.dotHandlers.push({element:dot,handler});this.dotsContainer.appendChild(dot);}this.dots=this.dotsContainer.querySelectorAll('.'+SELECTORS.dotClass);}createArrows(){this.prevBtn=document.createElement('button');this.prevBtn.className=SELECTORS.navClass+' '+SELECTORS.navPrevClass;this.prevBtn.setAttribute('aria-label','Previous slide');this.prevBtn.innerHTML=ICONS.prev;this.prevHandler=()=>this.prev();this.addListener(this.prevBtn,'click',this.prevHandler);this.nextBtn=document.createElement('button');this.nextBtn.className=SELECTORS.navClass+' '+SELECTORS.navNextClass;this.nextBtn.setAttribute('aria-label','Next slide');this.nextBtn.innerHTML=ICONS.next;this.nextHandler=()=>this.next();this.addListener(this.nextBtn,'click',this.nextHandler);this.wrapper.appendChild(this.prevBtn);this.wrapper.appendChild(this.nextBtn);}bindEvents(){const dragTarget=this.wrapper;this.onDragStartHandler=this.onDragStart.bind(this);this.onDragMoveHandler=this.onDragMove.bind(this);this.onDragEndHandler=this.onDragEnd.bind(this);this.onDragPreventHandler=(e)=>e.preventDefault();this.addListener(dragTarget,'touchstart',this.onDragStartHandler,{passive:true,capture:true});this.addListener(dragTarget,'touchmove',this.onDragMoveHandler,{passive:false,capture:true});this.addListener(dragTarget,'touchend',this.onDragEndHandler,{capture:true});this.addListener(dragTarget,'touchcancel',this.onDragEndHandler,{capture:true});this.addListener(dragTarget,'mousedown',this.onDragStartHandler,{capture:true});this.addListener(dragTarget,'mousemove',this.onDragMoveHandler,{capture:true});this.addListener(dragTarget,'mouseup',this.onDragEndHandler,{capture:true});this.addListener(dragTarget,'mouseleave',this.onDragEndHandler,{capture:true});this.addListener(dragTarget,'dragstart',this.onDragPreventHandler);this.wrapper.setAttribute('tabindex','0');this.onKeydownHandler=(e)=>{if(e.key==='ArrowLeft')this.prev();if(e.key==='ArrowRight')this.next();};this.addListener(this.wrapper,'keydown',this.onKeydownHandler);if(this.config.autoplay){this.onMouseEnterHandler=()=>this.stopAutoplay();this.onMouseLeaveHandler=()=>this.startAutoplay();this.addListener(this.wrapper,'mouseenter',this.onMouseEnterHandler);this.addListener(this.wrapper,'mouseleave',this.onMouseLeaveHandler);}this.onResizeHandler=()=>{clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(()=>{this.updateSlidesPerView();this.updateSlider();},100);};this.addListener(window,'resize',this.onResizeHandler);}addListener(target,event,handler,options){target.addEventListener(event,handler,options);this.eventHandlers.push({target,event,handler,options});}clearDotListeners(){this.dotHandlers.forEach(({element,handler})=>{element.removeEventListener('click',handler);});this.dotHandlers=[];}destroy(){this.stopAutoplay();this.clearDotListeners();this.eventHandlers.forEach(({target,event,handler,options})=>{target.removeEventListener(event,handler,options);});this.eventHandlers=[];clearTimeout(this.resizeTimeout);this.resizeTimeout=null;}updateSlidesPerView(){const windowWidth=window.innerWidth;let newSlidesPerView=this.config.slidesPerView;const breakpointKeys=Object.keys(this.config.breakpoints).map(Number).sort((a,b)=>a-b);for(const bp of breakpointKeys){if(windowWidth>=bp){newSlidesPerView=this.config.breakpoints[bp].slidesPerView||newSlidesPerView;}}if(this.config.peek){newSlidesPerView+=this.config.peek;}this.slidesPerView=Math.min(newSlidesPerView,this.slides.length);this.updateSlideWidths();this.updateDots();const maxIndex=this.getTotalPages()-1;if(this.currentIndex>maxIndex){this.currentIndex=Math.max(0,maxIndex);}}updateSlideWidths(){const gap=this.config.gap;const totalGaps=Math.ceil(this.slidesPerView)-1;let slideWidth=`calc((100% - ${totalGaps * gap}px) / ${this.slidesPerView})`;const maxSlideWidth=this.getMaxSlideWidth();if(maxSlideWidth){slideWidth=`min(${maxSlideWidth}px, ${slideWidth})`;}this.slideElements.forEach((slide,index)=>{slide.style.flex=`0 0 ${slideWidth}`;slide.style.width=slideWidth;slide.style.marginRight=index<this.slides.length-1?`${gap}px`:'0';});}getMaxSlideWidth(){if(window.innerWidth<=736)return null;const maxSlideWidth=Number(this.config.maxSlideWidth);if(!Number.isFinite(maxSlideWidth)||maxSlideWidth<=0){return null;}return maxSlideWidth;}getTotalPages(){return Math.ceil(Math.max(1,this.slides.length-this.slidesPerView+1));}onDragStart(e){if(this.slides.length<=1)return;this.isDragging=true;this.wrapper.classList.add('is-dragging');this.startX=this.getPositionX(e);this.currentX=this.startX;this.stopAutoplay();}onDragMove(e){if(!this.isDragging)return;this.currentX=this.getPositionX(e);const diff=this.currentX-this.startX;let newTranslate=this.translateX+diff;const maxTranslate=0;const minTranslate=this.getMinTranslate();if(newTranslate>maxTranslate){newTranslate=maxTranslate+(diff*0.2);}else if(newTranslate<minTranslate){newTranslate=minTranslate+((newTranslate-minTranslate)*0.2);}this.track.style.transform=`translateX(${newTranslate}px)`;if(e.cancelable&&Math.abs(diff)>10){e.preventDefault();}}onDragEnd(){if(!this.isDragging)return;this.isDragging=false;this.wrapper.classList.remove('is-dragging');const diff=this.currentX-this.startX;const slideWidth=this.getSlideWidth();const threshold=slideWidth*this.config.snapThreshold;if(Math.abs(diff)>threshold){if(diff>0){this.prev();}else{this.next();}}else{this.updateSlider();}if(this.config.autoplay){this.startAutoplay();}}getPositionX(e){if(e.type.includes('touch')){const touch=(e.touches&&e.touches[0])||(e.changedTouches&&e.changedTouches[0]);return touch?touch.clientX:0;}return e.clientX;}getSlideWidth(){if(!this.slideElements||!this.slideElements[0])return 0;return this.slideElements[0].offsetWidth+this.config.gap;}getMinTranslate(){const slideWidth=this.getSlideWidth();return-(slideWidth*(this.getTotalPages()-1));}goToSlide(index){const maxIndex=this.getTotalPages()-1;if(index<0){index=this.config.loop?maxIndex:0;}else if(index>maxIndex){index=this.config.loop?0:maxIndex;}this.currentIndex=index;this.updateSlider();}prev(){this.goToSlide(this.currentIndex-1);}next(){this.goToSlide(this.currentIndex+1);}updateSlider(){const slideWidth=this.getSlideWidth();this.translateX=-slideWidth*this.currentIndex;this.track.style.transform=`translateX(${this.translateX}px)`;if(this.dots){this.dots.forEach((dot,index)=>{dot.classList.toggle('is-active',index===this.currentIndex);});}if(this.prevBtn&&this.nextBtn&&!this.config.loop){this.prevBtn.disabled=this.currentIndex===0;this.nextBtn.disabled=this.currentIndex>=this.getTotalPages()-1;}}startAutoplay(){this.stopAutoplay();this.autoplayTimer=setInterval(()=>{this.next();},this.config.autoplayInterval);}stopAutoplay(){if(this.autoplayTimer){clearInterval(this.autoplayTimer);this.autoplayTimer=null;}}}function findSliderClusters(){const allSliders=document.querySelectorAll(SELECTORS.slideSelector);if(!allSliders.length)return[];const clusters=[];const processed=new Set();allSliders.forEach(slide=>{if(processed.has(slide))return;if(slide.dataset.sliderInitialized==='true')return;const cluster=[slide];processed.add(slide);let sibling=slide.nextElementSibling;while(sibling&&sibling.classList.contains('slider')){if(processed.has(sibling))break;cluster.push(sibling);processed.add(sibling);sibling=sibling.nextElementSibling;}cluster.forEach(el=>el.dataset.sliderInitialized='true');clusters.push(cluster);});return clusters;}function buildInstanceConfig(instanceId){const instanceOptions=(instanceId&&INSTANCE_CONFIGS[instanceId])||{};return{...BASE_CONFIG,...instanceOptions,breakpoints:{...BASE_CONFIG.breakpoints,...(instanceOptions.breakpoints||{})}};}function registerInstance(instance,slides,instanceId){SLIDER_INSTANCES.push({instance,slides,instanceId});}function destroyById(instanceId){const index=SLIDER_INSTANCES.findIndex(entry=>entry.instanceId===instanceId);if(index===-1)return false;SLIDER_INSTANCES[index].instance.destroy();SLIDER_INSTANCES.splice(index,1);return true;}function destroyAll(){SLIDER_INSTANCES.forEach(entry=>entry.instance.destroy());SLIDER_INSTANCES.length=0;}function getInstances(){return SLIDER_INSTANCES.map(entry=>entry.instance);}function init(){const clusters=findSliderClusters();clusters.forEach(cluster=>{if(cluster.length>=1){const instanceId=cluster[0].dataset.sliderId||'';const instanceConfig=buildInstanceConfig(instanceId);const instance=new Slider(cluster,instanceConfig);registerInstance(instance,cluster,instanceId);}});}window.CarrdSlider={init,destroyAll,destroyById,getInstances};if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();(function(){'use strict';const DEFAULTS={containerSelector:'.txt',paragraphSelector:'span.p',headingClasses:{h1:'theme-typography-h1',h2:'theme-typography-h2',h3:'theme-typography-h3',h4:'theme-typography-h4'},listClasses:{ul:'theme-typography-ul',ol:'theme-typography-ol',li:'theme-typography-li'},hrClass:'theme-typography-hr'};const externalOptions=(typeof window!=='undefined'&&window.CarrdPluginOptions&&window.CarrdPluginOptions.typography)||{};const CONFIG={...DEFAULTS,...externalOptions};function parseContent(html){let text=html.replace(/<br\s*\/?>/gi,'\n').trim();if(/^-{3,}$/.test(text)){return`<hr class="${CONFIG.hrClass}">`;}const headingMatch=text.match(/^(#{1,4})\s+(.+)$/);if(headingMatch){const level=headingMatch[1].length;const content=headingMatch[2].trim();const tag=`h${level}`;const className=CONFIG.headingClasses[tag]||'';return`<${tag} class="${className}">${content}</${tag}>`;}const lines=text.split('\n').map(l=>l.trim()).filter(l=>l);if(lines.length>0&&lines.every(l=>/^-\s+/.test(l))){const items=lines.map(l=>{const content=l.replace(/^-\s+/,'');return`<li class="${CONFIG.listClasses.li}">${content}</li>`;});return`<ul class="${CONFIG.listClasses.ul}">${items.join('')}</ul>`;}if(lines.length>0&&lines.every(l=>/^\d+\.\s+/.test(l))){const items=lines.map(l=>{const content=l.replace(/^\d+\.\s+/,'');return`<li class="${CONFIG.listClasses.li}">${content}</li>`;});return`<ol class="${CONFIG.listClasses.ol}">${items.join('')}</ol>`;}return null;}function processContainer(container){if(container.dataset.typographyInitialized==='true')return;container.dataset.typographyInitialized='true';const spans=container.querySelectorAll(CONFIG.paragraphSelector);if(!spans.length)return;spans.forEach(span=>{const html=span.innerHTML;const converted=parseContent(html);if(converted!==null){const temp=document.createElement('div');temp.innerHTML=converted;while(temp.firstChild){span.parentNode.insertBefore(temp.firstChild,span);}span.remove();}});}function init(){const containers=document.querySelectorAll(CONFIG.containerSelector);containers.forEach(processContainer);}window.CarrdTypography={init,process:processContainer,parseContent};if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}})();